# D3 å›¾è¡¨ç»„ä»¶åº“

è¿™æ˜¯ä¸€ä¸ªåŸºäº D3.js çš„å›¾è¡¨ç»„ä»¶åº“ï¼Œä¸“ä¸ºå•ç»†èƒæ•°æ®åˆ†æå¹³å°è®¾è®¡ã€‚

## ğŸ“Š å·²å®ç°çš„å›¾è¡¨ç»„ä»¶ï¼ˆ11ä¸ªï¼‰âœ… å…¨éƒ¨å®Œæˆï¼

### 1. **ScatterChartï¼ˆæ•£ç‚¹å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/ScatterChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** ä½¿ç”¨ç°æœ‰æ•°æ®
- **åŠŸèƒ½ï¼š** å¤šç»„æ•°æ®å±•ç¤ºã€äº¤äº’å¼æ‚¬åœã€è‡ªå®šä¹‰é¢œè‰²
- **ç”¨é€”ï¼š** ç»†èƒé™ç»´å¯è§†åŒ–ã€åŸºå› è¡¨è¾¾å…³ç³»

### 2. **BarChartï¼ˆæŸ±çŠ¶å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/BarChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** ä½¿ç”¨ç°æœ‰æ•°æ®
- **åŠŸèƒ½ï¼š** åˆ†ç»„å¯¹æ¯”ã€æ¨ªå‘/çºµå‘åˆ‡æ¢
- **ç”¨é€”ï¼š** åŸºå› è¡¨è¾¾é‡å¯¹æ¯”ã€ç»†èƒæ•°é‡ç»Ÿè®¡

### 3. **LineChartï¼ˆæŠ˜çº¿å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/LineChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** ä½¿ç”¨ç°æœ‰æ•°æ®
- **åŠŸèƒ½ï¼š** è¶‹åŠ¿å±•ç¤ºã€å¤šæ¡çº¿å¯¹æ¯”
- **ç”¨é€”ï¼š** æ—¶é—´åºåˆ—åˆ†æã€ä¼ªæ—¶åºè½¨è¿¹

### 4. **BoxPlotChartï¼ˆç®±å‹å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/BoxPlotChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** `testdata/boxPlotData.json`
- **åŠŸèƒ½ï¼š** 
  - å±•ç¤ºæ•°æ®åˆ†å¸ƒï¼ˆæœ€å°å€¼ã€Q1ã€ä¸­ä½æ•°ã€Q3ã€æœ€å¤§å€¼ï¼‰
  - è‡ªåŠ¨è¯†åˆ«å’Œæ˜¾ç¤ºå¼‚å¸¸å€¼
  - æ”¯æŒå¤šç»„æ•°æ®å¯¹æ¯”
  - äº¤äº’å¼æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ç»Ÿè®¡ä¿¡æ¯
- **ç”¨é€”ï¼š** åŸºå› è¡¨è¾¾åˆ†å¸ƒã€ç»†èƒäºšç¾¤å·®å¼‚åˆ†æ

### 5. **ViolinChartï¼ˆå°æç´å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/ViolinChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** `testdata/violinData.json`
- **åŠŸèƒ½ï¼š**
  - æ ¸å¯†åº¦ä¼°è®¡ï¼ˆKDEï¼‰å±•ç¤ºæ•°æ®åˆ†å¸ƒ
  - å¯å åŠ ç®±å‹å›¾
  - å¯è°ƒèŠ‚KDEå¸¦å®½
  - æ”¯æŒåˆ†ç»„å¯¹æ¯”
- **ç”¨é€”ï¼š** åŸºå› è¡¨è¾¾å¯†åº¦åˆ†æã€ç»†èƒçŠ¶æ€åˆ†å¸ƒ

### 6. **HeatmapChartï¼ˆçƒ­å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/HeatmapChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** `testdata/heatmapData.json`
- **åŠŸèƒ½ï¼š**
  - çŸ©é˜µæ•°æ®å¯è§†åŒ–
  - å¤šç§é¢œè‰²æ–¹æ¡ˆï¼ˆçº¢é»„è“ã€Viridisã€Plasmaç­‰ï¼‰
  - é¢œè‰²æ¡æ˜¾ç¤º
  - å¯é€‰æ˜¾ç¤ºæ•°å€¼
  - è¡Œåˆ—æ ‡ç­¾æ”¯æŒ
- **ç”¨é€”ï¼š** åŸºå› è¡¨è¾¾çŸ©é˜µã€ç›¸å…³æ€§åˆ†æã€èšç±»ç»“æœå±•ç¤º

### 7. **StackedChartï¼ˆå †å å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/StackedChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** `testdata/stackedData.json`
- **åŠŸèƒ½ï¼š**
  - æ”¯æŒå †å æŸ±çŠ¶å›¾å’Œå †å é¢ç§¯å›¾
  - å±•ç¤ºéƒ¨åˆ†ä¸æ•´ä½“å…³ç³»
  - æ—¶é—´åºåˆ—ç´¯ç§¯å±•ç¤º
  - äº¤äº’å¼æ‚¬åœæ˜¾ç¤ºè¯¦ç»†æ•°å€¼
- **ç”¨é€”ï¼š** ç»†èƒç»„æˆæ¯”ä¾‹ã€åŸºå› é›†è¡¨è¾¾ç´¯ç§¯

### 8. **NetworkChartï¼ˆç½‘ç»œå›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/NetworkChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** `testdata/networkData.json`
- **åŠŸèƒ½ï¼š**
  - D3åŠ›å¯¼å‘å¸ƒå±€ç®—æ³•
  - èŠ‚ç‚¹å¯æ‹–æ‹½äº¤äº’
  - è¾¹æƒé‡å¯è§†åŒ–
  - èŠ‚ç‚¹åˆ†ç»„ç€è‰²
  - æ‚¬åœé«˜äº®ç›¸å…³è¿æ¥
  - å¯è°ƒèŠ‚åŠ›å¯¼å‘å‚æ•°ï¼ˆæ’æ–¥åŠ›ã€è¿æ¥è·ç¦»ç­‰ï¼‰
- **ç”¨é€”ï¼š** åŸºå› è°ƒæ§ç½‘ç»œã€ç»†èƒé€šè®¯ç½‘ç»œã€è›‹ç™½è´¨ç›¸äº’ä½œç”¨

### 9. **TrajectoryChartï¼ˆè½¨è¿¹å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/TrajectoryChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** `testdata/trajectoryData.json`
- **åŠŸèƒ½ï¼š**
  - è·¯å¾„è¿æ¥ç»˜åˆ¶
  - åˆ†æ”¯ç»“æ„å±•ç¤º
  - æ—¶é—´è½´æ ‡æ³¨
  - å…³é”®ç‚¹æ ‡è®°
  - ç®­å¤´æ–¹å‘æŒ‡ç¤º
  - æ”¯æŒå¤šåˆ†æ”¯è½¨è¿¹
- **ç”¨é€”ï¼š** ç»†èƒå‘è‚²è½¨è¿¹ã€ä¼ªæ—¶åºåˆ†æ

### 10. **CircosChartï¼ˆCircoså›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/CircosChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** `testdata/circosData.json`
- **åŠŸèƒ½ï¼š**
  - ç¯å½¢å¸ƒå±€
  - è´å¡å°”æ›²çº¿è¿æ¥
  - å¤šå±‚æ•°æ®å±•ç¤º
  - æŸ“è‰²ä½“/åŒºæ®µæ ‡æ³¨
  - äº¤äº’å¼é«˜äº®
  - å¯è°ƒèŠ‚å†…å¤–åŠå¾„
- **ç”¨é€”ï¼š** åŸºå› ç»„æ•°æ®ã€æŸ“è‰²ä½“å…³ç³»ã€å¤æ‚å…³è”

### 11. **GridChartï¼ˆç½‘æ ¼å›¾ï¼‰** âœ…
- **æ–‡ä»¶ï¼š** `Charts/GridChart.jsx`
- **æµ‹è¯•æ•°æ®ï¼š** `testdata/gridData.json`
- **åŠŸèƒ½ï¼š**
  - ç®€åŒ–çš„çƒ­å›¾æ ·å¼
  - åˆ†ç±»æ•°æ®å±•ç¤º
  - ç½‘æ ¼å¸ƒå±€
  - é¢œè‰²ç¼–ç 
  - æ”¯æŒè‡ªå®šä¹‰ç±»åˆ«é¢œè‰²
- **ç”¨é€”ï¼š** åŸºå› å­˜åœ¨/ç¼ºå¤±ã€äºŒå…ƒåˆ†ç±»æ•°æ®

---

## ğŸ—ï¸ ç»Ÿä¸€æ¶æ„ç‰¹æ€§

æ‰€æœ‰å›¾è¡¨ç»„ä»¶éƒ½éµå¾ªä»¥ä¸‹ç»Ÿä¸€æ¶æ„ï¼š

### âœ… å“åº”å¼è®¾è®¡
- å®½åº¦è‡ªé€‚åº”å®¹å™¨
- é«˜åº¦å›ºå®šï¼ˆå¯é…ç½®ï¼‰
- å›¾è¡¨å†…å®¹å¯è¶…å‡ºå®¹å™¨ï¼Œè¶…å‡ºéƒ¨åˆ†éšè—

### âœ… äº¤äº’åŠŸèƒ½
- **ç¼©æ”¾ï¼š** æ”¯æŒ 50%-200% ç¼©æ”¾
- **è‡ªé€‚åº”é«˜åº¦ï¼š** ä¸€é”®è°ƒæ•´å®¹å™¨é«˜åº¦ä»¥å®Œæ•´æ˜¾ç¤ºå›¾è¡¨
- **å…¨å±æ¨¡å¼ï¼š** æ”¯æŒå…¨å±æŸ¥çœ‹
- **æ‚¬åœæç¤ºï¼š** äº¤äº’å¼æ•°æ®è¯¦æƒ…å±•ç¤º

### âœ… å·¥å…·æ 
- ä¸‹è½½å›¾è¡¨ï¼ˆPNG/SVGï¼‰
- ç¼©æ”¾æ§åˆ¶
- è‡ªé€‚åº”é«˜åº¦
- å…¨å±åˆ‡æ¢
- å‚æ•°è®¾ç½®é¢æ¿

### âœ… å‚æ•°é…ç½®
- **åŸºç¡€è®¾ç½®ï¼š** æ ‡é¢˜ã€åæ ‡è½´ã€å›¾ä¾‹
- **å›¾å½¢è®¾ç½®ï¼š** é¢œè‰²ã€é€æ˜åº¦ã€å¤§å°ç­‰
- **å‚æ•°é¢æ¿é»˜è®¤æŠ˜å **
- å®æ—¶é¢„è§ˆé…ç½®æ•ˆæœ

### âœ… å›¾ä¾‹ç³»ç»Ÿ
- æ”¯æŒå¤šç§ä½ç½®ï¼ˆå³ä¾§ã€é¡¶éƒ¨ã€åº•éƒ¨ç­‰ï¼‰
- å¯è‡ªå®šä¹‰å­—å·
- æ”¯æŒä¸åŒç¬¦å·ç±»å‹ï¼ˆåœ†å½¢ã€çŸ©å½¢ï¼‰

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
D3Charts/
â”œâ”€â”€ Charts/                    # å›¾è¡¨ç»„ä»¶
â”‚   â”œâ”€â”€ ScatterChart.jsx      âœ… æ•£ç‚¹å›¾
â”‚   â”œâ”€â”€ BarChart.jsx          âœ… æŸ±çŠ¶å›¾
â”‚   â”œâ”€â”€ LineChart.jsx         âœ… æŠ˜çº¿å›¾
â”‚   â”œâ”€â”€ BoxPlotChart.jsx      âœ… ç®±å‹å›¾
â”‚   â”œâ”€â”€ ViolinChart.jsx       âœ… å°æç´å›¾
â”‚   â”œâ”€â”€ HeatmapChart.jsx      âœ… çƒ­å›¾
â”‚   â”œâ”€â”€ StackedChart.jsx      âœ… å †å å›¾
â”‚   â”œâ”€â”€ NetworkChart.jsx      âœ… ç½‘ç»œå›¾
â”‚   â”œâ”€â”€ TrajectoryChart.jsx   âœ… è½¨è¿¹å›¾
â”‚   â”œâ”€â”€ CircosChart.jsx       âœ… Circoså›¾
â”‚   â””â”€â”€ GridChart.jsx         âœ… ç½‘æ ¼å›¾
â”œâ”€â”€ core/                      # æ ¸å¿ƒç»„ä»¶
â”‚   â”œâ”€â”€ ChartContainer.jsx    âœ… å®¹å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ ChartToolbar.jsx      âœ… å·¥å…·æ ç»„ä»¶
â”‚   â”œâ”€â”€ ChartLegend.jsx       âœ… å›¾ä¾‹ç»„ä»¶
â”‚   â””â”€â”€ ChartAxis.jsx         âœ… åæ ‡è½´ç»„ä»¶
â”œâ”€â”€ testdata/                  # æµ‹è¯•æ•°æ®
â”‚   â”œâ”€â”€ boxPlotData.json      âœ…
â”‚   â”œâ”€â”€ violinData.json       âœ…
â”‚   â”œâ”€â”€ heatmapData.json      âœ…
â”‚   â”œâ”€â”€ stackedData.json      âœ…
â”‚   â”œâ”€â”€ networkData.json      âœ…
â”‚   â”œâ”€â”€ trajectoryData.json   âœ…
â”‚   â”œâ”€â”€ circosData.json       âœ…
â”‚   â””â”€â”€ gridData.json         âœ…
â”œâ”€â”€ index.js                   âœ… å…¥å£æ–‡ä»¶
â””â”€â”€ README.md                  âœ… æœ¬æ–‡æ¡£
```

---

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç”¨æ³•

```jsx
import { 
  BoxPlotChart, 
  ViolinChart, 
  HeatmapChart, 
  StackedChart,
  NetworkChart,
  TrajectoryChart,
  CircosChart,
  GridChart
} from '@/components/D3Charts';

import boxPlotData from '@/components/D3Charts/testdata/boxPlotData.json';
import networkData from '@/components/D3Charts/testdata/networkData.json';

function MyComponent() {
  return (
    <div>
      {/* ç®±å‹å›¾ */}
      <BoxPlotChart data={boxPlotData} height={500} />
      
      {/* å°æç´å›¾ */}
      <ViolinChart data={violinData} height={500} />
      
      {/* çƒ­å›¾ */}
      <HeatmapChart data={heatmapData} height={600} />
      
      {/* å †å å›¾ */}
      <StackedChart data={stackedData} height={500} />
      
      {/* ç½‘ç»œå›¾ */}
      <NetworkChart data={networkData} height={600} />
      
      {/* è½¨è¿¹å›¾ */}
      <TrajectoryChart data={trajectoryData} height={600} />
      
      {/* Circoså›¾ */}
      <CircosChart data={circosData} height={700} />
      
      {/* ç½‘æ ¼å›¾ */}
      <GridChart data={gridData} height={500} />
    </div>
  );
}
```

### æ•°æ®æ ¼å¼

#### BoxPlotChart / ViolinChart
```json
[
  {
    "name": "Group A",
    "values": [12, 15, 18, 20, 22, ...]
  },
  {
    "name": "Group B",
    "values": [20, 22, 25, 28, 30, ...]
  }
]
```

#### HeatmapChart
```json
{
  "matrix": [
    [0.8, 0.3, 0.1, ...],
    [0.2, 0.9, 0.4, ...]
  ],
  "rowLabels": ["Gene1", "Gene2", ...],
  "colLabels": ["Sample1", "Sample2", ...]
}
```

#### StackedChart
```json
[
  {
    "category": "2018",
    "values": {
      "Series A": 30,
      "Series B": 50,
      "Series C": 20
    }
  }
]
```

#### NetworkChart
```json
{
  "nodes": [
    { "id": "Gene1", "group": 1, "value": 10 },
    { "id": "Gene2", "group": 1, "value": 15 }
  ],
  "links": [
    { "source": "Gene1", "target": "Gene2", "value": 5 }
  ]
}
```

#### TrajectoryChart
```json
{
  "points": [
    { "x": 10, "y": 20, "time": 0, "branch": "main", "label": "Start" }
  ],
  "paths": [
    { "from": 0, "to": 1, "branch": "main" }
  ]
}
```

#### CircosChart
```json
{
  "segments": [
    { "id": "chr1", "label": "Chr1", "start": 0, "end": 100, "color": "#e74c3c" }
  ],
  "links": [
    { "source": "chr1", "sourceStart": 10, "sourceEnd": 20, "target": "chr2", "targetStart": 30, "targetEnd": 40, "value": 5 }
  ]
}
```

#### GridChart
```json
{
  "data": [[1, 0, 1], [0, 1, 0]],
  "rowLabels": ["Row1", "Row2"],
  "colLabels": ["Col1", "Col2", "Col3"],
  "categories": [
    { "value": 0, "label": "Absent", "color": "#ecf0f1" },
    { "value": 1, "label": "Present", "color": "#3498db" }
  ]
}
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸç›®æ ‡
1. âœ… å®ŒæˆåŸºç¡€å›¾è¡¨ç»„ä»¶ï¼ˆ7ä¸ªï¼‰
2. âœ… å®ç°å¤æ‚å›¾è¡¨ç»„ä»¶ï¼ˆ4ä¸ªï¼‰
3. âœ… ç¼–å†™è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£
4. ğŸ”„ æ·»åŠ å•å…ƒæµ‹è¯•

### é•¿æœŸç›®æ ‡
1. æ€§èƒ½ä¼˜åŒ–ï¼ˆå¤§æ•°æ®é‡å¤„ç†ï¼‰
2. æ›´å¤šäº¤äº’åŠŸèƒ½ï¼ˆæ•°æ®ç­›é€‰ã€é«˜äº®ç­‰ï¼‰
3. ä¸»é¢˜ç³»ç»Ÿï¼ˆæ·±è‰²æ¨¡å¼æ”¯æŒï¼‰
4. å¯¼å‡ºåŠŸèƒ½å¢å¼ºï¼ˆPDFã€Excelç­‰ï¼‰

---

## ğŸ“ å¼€å‘è¯´æ˜

### æŠ€æœ¯æ ˆ
- **React 18+**
- **D3.js v7**
- **Ant Design 5**
- **PropTypes**

### ä»£ç è§„èŒƒ
- ä½¿ç”¨å‡½æ•°ç»„ä»¶ + Hooks
- éµå¾ª ESLint è§„åˆ™
- ç»Ÿä¸€çš„å‘½åè§„èŒƒ
- è¯¦ç»†çš„æ³¨é‡Šè¯´æ˜

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `useMemo` ç¼“å­˜è®¡ç®—ç»“æœ
- ä½¿ç”¨ `useCallback` ä¼˜åŒ–å›è°ƒå‡½æ•°
- ResizeObserver ç›‘å¬å®¹å™¨å˜åŒ–
- D3 é€‰æ‹©å™¨ä¼˜åŒ–

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºå†…éƒ¨ä½¿ç”¨ï¼Œç‰ˆæƒå½’å…¬å¸æ‰€æœ‰ã€‚

---

## ğŸ‘¥ è´¡çŒ®è€…

- å¼€å‘è€…ï¼šAI Assistant
- é¡¹ç›®æ—¶é—´ï¼š2026å¹´2æœˆ4æ—¥

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚